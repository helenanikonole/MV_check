(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{187:function(e,t,o){e.exports=o.p+"img/0918d78.png"},198:function(e,t){},199:function(e,t){},200:function(e,t){},204:function(e,t,o){"use strict";o.r(t);var r=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"manifest__wrapper"},[t("div",{staticClass:"text-in-corner"},[this._v("About")]),this._v(" "),t("p",[this._v("\n        Facial Recognition Test is an open source project which helps you to verify if the way or solution you use to disrupt Facial Recognition algorithms works. Your reference photo is comparing with the stream from your camera.\nFacial Recognition algorithms uses AI to determine your identity through pictures or videos of your face. To date they are used massively, violating all privacy standards, not only online but also offline - through the ubiquitous surveillance cameras. Artists and activists have developed many projects of special makeup, hairstyles and jewelry to make a face unrecognizable for Facial Recognition algorithms, but we can never be sure if any particular solution works. Facial Recognition Test solves this problem.\n"),t("br"),this._v(" "),t("br"),this._v("\nFacial Recognition Test was developed in a frame of Hacathon on Internet Freedom on 6-7 June 2020 by Corwin, Nikita Morozov, Nikita Prudnikov and Helena Nikonole.\nCorporations and authorities invest a lot in developing Facial Recognition algorithms. Social projects like Facial Recognition Test can not succeed without support of community. You can contribute to the project on github\n        ")]),this._v(" "),t("div",{staticClass:"manifest__github"},[t("a",{attrs:{href:"https://github.com/helenanikonole/MV_check",target:"_blank"}},[t("img",{attrs:{title:"Github repository",src:o(187)}})])])])}],n=(o(62),o(48),o(29),o(21),o(32),o(16),o(23),o(24),o(15),o(9),o(33),o(63),o(37)),c=(o(188),o(192)),l=o(74),d=o(203);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function f(e,t){var o;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(o=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,c=!0,l=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return c=e.done,e},e:function(e){l=!0,n=e},f:function(){try{c||null==o.return||o.return()}finally{if(l)throw n}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,o=new Array(t);i<t;i++)o[i]=e[i];return o}var _={data:function(){return{image:{base64:null,activeURL:null},isDisclaimer:!0,isRecognized:!1,modal:{show:!1,header:"Default header",text:"Check console output"},logs:[{id:0,template:"- Webcam (recognized by _count_/_models_ models)",count:0,models:1,disabled:!1},{id:1,template:"- Street CCTV (_count_/_models_ models)",count:0,models:0,disabled:!0},{id:2,template:"- Public transport CCTV (_count_/_models_ models)",count:0,models:0,disabled:!0},{id:3,template:"- Security CCTV (_count_/_models_ models)",count:0,models:0,disabled:!0}]}},watch:{logs:{deep:!0,handler:function(e){e.find((function(e){return e.count>0}))&&(this.isRecognized=!0)}}},computed:{preparedLogs:function(){var e,t=[],o=f(this.logs);try{for(o.s();!(e=o.n()).done;){var r=e.value;t.push(v(v({},r),{},{text:r.template.replace("_count_",r.count).replace("_models_",r.models)}))}}catch(e){o.e(e)}finally{o.f()}return t}},mounted:function(){Promise.all([this.init(),d.f.tinyFaceDetector.loadFromUri("./models"),d.f.faceLandmark68Net.loadFromUri("./models"),d.f.faceRecognitionNet.loadFromUri("./models"),d.f.faceExpressionNet.loadFromUri("./models")]).catch((function(e){console.log(e)}))},methods:v(v({},Object(l.b)({validateImage:"utils/validateImage"})),{},{init:function(){var e=this;return e.showDisclaimer(),new Promise((function(t,o){e.startVideo().then((function(){e.hideDisclaimer()})).catch((function(){return setTimeout((function(){e.openModal("Error","Enable camera to continue.")}),5e3),o()}))}))},showDisclaimer:function(){this.isDisclaimer=!0},hideDisclaimer:function(){this.isDisclaimer=!1},tryAgain:function(){for(var e in this.logs)console.log(this.logs[e]),this.logs[e].count=0;this.isRecognized=!1},resetCounter:function(e){var t=this;t.logs.find((function(o,r){o.id==e&&(t.logs[r].count=0)}))},setCounter:function(e,t){var o=this;o.logs.find((function(r,n){r.id==e&&(o.logs[n].count=t)}))},openModal:function(header,text){this.modal.show=!0,this.modal.header=header||"Default heder",this.modal.text=text||"Check console output"},onPlay:function(){var e=this,t=this.$refs.video,o=this,r=new d.b({inputSize:512,scoreThreshold:.5});d.c(t,r).withFaceLandmarks().withFaceDescriptor().then((function(n){if(n&&o.image.activeURL){var c=o.$refs.referenceImage;d.c(c,r).withFaceLandmarks().withFaceDescriptor().then((function(o){if(o&&"unknown"!=new d.a(n).findBestMatch(o.descriptor)._label){var canvas=e.$refs.overlay,r=d.e(canvas,t,!0);d.d.drawDetections(canvas,d.g(n,r)),e.setCounter(0,1)}}))}setTimeout((function(){e.onPlay()}))}))},startVideo:function(){var e=this,video=e.$refs.video;return new Promise((function(t,o){if(navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,!navigator.getUserMedia)return o(error);navigator.getUserMedia({video:{}},(function(o){video.srcObject=o,e.$refs.overlay.width=e.$refs.video.offsetWidth,e.$refs.overlay.height=e.$refs.video.offsetHeight,t(o)}),(function(e){return o(e)}))}))},openImageSelector:function(){var input=document.createElement("input"),e=this;input.type="file",input.accept="image/*",input.onchange=function(t){var o=t.target.files[0];e.validateImage(o).then((function(){e.uploadFile(o)})).catch((function(e){console.log(e)}))},input.click()},addFile:function(e){var t=e.dataTransfer.files[0];t&&(this.uploadFile(t),this.unsetDragStyle())},setDragStyle:function(){this.$refs.dropzone.classList.add("dragging")},unsetDragStyle:function(){this.$refs.dropzone.classList.remove("dragging")},uploadFile:function(e){var t=this;Object(c.a)(e).then((function(o){t.image.base64=o,t.image.activeURL=URL.createObjectURL(e)}))},removeImage:function(){this.image.base64=null,this.image.activeURL=null,this.setDragStyle(),this.openImageSelector()}})},y=o(20),component=Object(y.a)(_,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"parent"},[e.modal.show?o("modal",{on:{close:function(t){e.modal.show=!1}}},[o("h3",{attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.modal.header))]),e._v(" "),o("h4",{attrs:{slot:"body"},slot:"body"},[e._v(e._s(e.modal.text))])]):e._e(),e._v(" "),o("div",{staticClass:"image-preview__wrapper"},[e.image.activeURL?o("div",{staticClass:"image-preview__image"},[o("div",{staticClass:"text-in-corner",on:{click:e.removeImage}},[e._v("Change reference photo")]),e._v(" "),o("img",{ref:"referenceImage",attrs:{src:e.image.activeURL}})]):e._e(),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:!e.image.activeURL,expression:"!image.activeURL"}],ref:"dropzone",class:["image-preview__dropzone"],on:{drop:function(t){return t.preventDefault(),e.addFile(t)},dragover:function(t){return t.preventDefault(),e.setDragStyle(t)},dragleave:e.unsetDragStyle,dragend:e.unsetDragStyle,click:e.openImageSelector}},[o("div",{staticClass:"image-preview__advice"},[e._v("Your face should be clearly visible")]),e._v(" "),o("div",{staticClass:"text-in-corner"},[e._v("Select your reference photo")])])]),e._v(" "),o("div",{staticClass:"webcam__wrapper"},[o("div",{staticClass:"text-in-corner z-index-10"},[e._v("Your webcam")]),e._v(" "),o("div",{staticClass:"webcam__video-wrapper"},[o("transition",{attrs:{name:"disclaimer"}},[e.isDisclaimer?o("div",{staticClass:"webcam__disclaimer-wrapper"},[o("div",{staticClass:"webcam__disclaimer"},[o("h2",[e._v("Disclaimer")]),e._v(" "),o("h3",[e._v("Facial Recognition Test accesses your device camera and uses AI algorithms to analyse your video stream. Facial Recognition Test DO NOT transmit, store or share your data as all AI computations are carried out on your local machine ONLY. We respect your privacy."),o("br"),o("br"),e._v("\n                        Your reference photo will be compared with the stream from your camera.")])])]):e._e()]),e._v(" "),o("transition",{attrs:{name:"recongnized"}},[e.isRecognized?o("div",{staticClass:"webcam__recongnized-wrapper"},[o("div",{staticClass:"webcam__recongnized"},[o("h2",[e._v("You have been recongnized")]),e._v(" "),o("div",[o("button",{staticClass:"webcam__try-again",on:{click:e.tryAgain}},[e._v("Try again")])])])]):e._e()]),e._v(" "),o("video",{directives:[{name:"show",rawName:"v-show",value:!e.isDisclaimer,expression:"!isDisclaimer"}],ref:"video",staticClass:"webcam__video",attrs:{id:"inputVideo",autoplay:""},on:{loadedmetadata:function(t){return e.onPlay()}}}),e._v(" "),o("canvas",{directives:[{name:"show",rawName:"v-show",value:!e.isDisclaimer,expression:"!isDisclaimer"}],ref:"overlay",staticClass:"webcam__canvas"})],1)]),e._v(" "),o("div",{staticClass:"system-logs__wrapper"},[o("div",{staticClass:"text-in-corner"},[e._v("System logs")]),e._v(" "),o("div",{staticClass:"system-logs__list"},e._l(e.preparedLogs,(function(t){return o("div",[o("span",{class:[t.disabled?"system-logs__log_disabled":"","system-logs__log"]},[e._v(e._s(t.text))])])})),0)]),e._v(" "),e._m(0)],1)}),r,!1,null,null,null);t.default=component.exports}}]);